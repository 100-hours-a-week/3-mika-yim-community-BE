package com.mika.ktdcloud.community.service;

import com.mika.ktdcloud.community.dto.term.TermDTO;
import org.springframework.stereotype.Service;

import java.util.ArrayList;
import java.util.List;

@Service
public class TermService {

    private final List<TermDTO> termList = new ArrayList<>();

    public TermService() {
        String termsOfUseContent = """
                '대청마루' 이용약관
                제1조 (목적) 이 약관은 '대청마루'(이하 '커뮤니티')에서 제공하는 서비스의 이용과 관련하여 커뮤니티와 회원 간의 권리, 의무 및 책임사항, 기타 필요한 사항을 규정함을 목적으로 합니다.
                
                제2조 (회원의 의무) ① 회원은 다음 행위를 하여서는 안 됩니다.
                1. 타인의 정보를 도용하는 행위
                2. 커뮤니티 운영을 고의로 방해하는 행위
                3. 다른 회원의 명예를 손상시키거나 불이익을 주는 행위
                4. 음란물, 욕설, 비방 등 공공질서 및 미풍양속에 위반되는 내용의 게시물을 작성, 유포하는 행위
                5. 저작권 등 제3자의 권리를 침해하는 행위
                6. 광고성 또는 스팸성 게시물을 등록하는 행위
                7. 기타 불법적이거나 부당한 행위 ② 회원은 자신의 아이디 및 비밀번호 관리에 대한 책임이 있으며, 타인에게 양도하거나 대여할 수 없습니다.
                
                제3조 (게시물의 저작권 및 관리) ① 회원이 작성한 게시물의 저작권은 해당 게시물의 작성자에게 귀속됩니다. ② 커뮤니티는 회원이 작성한 게시물이 제2조의 규정에 위반된다고 판단되는 경우, 사전 통지 없이 삭제하거나 이동 또는 등록을 거부할 수 있습니다. ③ 회원의 게시물로 인해 발생하는 모든 법적 책임은 회원 본인에게 있습니다.
                
                제4조 (서비스 이용 제한) 커뮤니티는 회원이 이 약관의 의무를 위반하거나 서비스의 정상적인 운영을 방해한 경우, 경고, 일시정지, 영구이용정지 등으로 서비스 이용을 단계적으로 제한할 수 있습니다.
                
                제5조 (면책조항) ① 커뮤니티는 천재지변 또는 이에 준하는 불가항력으로 인하여 서비스를 제공할 수 없는 경우에는 서비스 제공에 관한 책임이 면제됩니다. ② 커뮤니티는 회원 간 또는 회원과 제3자 상호 간에 서비스를 매개로 하여 발생한 분쟁에 대해 개입할 의무가 없으며 이로 인한 손해를 배상할 책임이 없습니다. ③ 커뮤니티는 회원이 서비스에 게재한 정보, 자료, 사실의 신뢰도, 정확성 등 내용에 관하여는 책임을 지지 않습니다.
                
                부칙 이 약관은 2025년 10월 20일부터 시행됩니다.
                """;

        String privacyPolicyContent = """
                개인정보 처리방침
                '대청마루'는 이용자의 개인정보를 중요시하며, 「개인정보 보호법」을 준수하고 있습니다. 본 개인정보 처리방침을 통해 이용자가 제공하는 개인정보가 어떠한 용도와 방식으로 이용되고 있으며, 개인정보보호를 위해 어떠한 조치가 취해지고 있는지 알려드립니다.
                
                제1조 (수집하는 개인정보의 항목 및 수집 방법) ① 수집 항목:
                1. 필수 항목: 아이디(이메일 주소), 비밀번호, 닉네임
                2. 선택 항목: 프로필 사진 등
                3. 서비스 이용 과정에서 자동 생성 정보: IP 주소, 쿠키, 서비스 이용 기록 등 ② 수집 방법: 회원가입 시 이용자가 직접 입력
                
                제2조 (개인정보의 수집 및 이용 목적) 회원제 서비스 제공에 따른 본인 식별, 불량 회원의 부정 이용 방지와 비인가 사용 방지, 회원 관리, 서비스 제공 및 개선, 공지사항 전달 등을 목적으로 개인정보를 수집 및 이용합니다.
                
                제3조 (개인정보의 보유 및 이용 기간) 이용자의 개인정보는 원칙적으로 회원 탈퇴 시까지 보유 및 이용하며, 개인정보 수집 및 이용목적이 달성된 후에는 해당 정보를 지체 없이 파기합니다. 단, 관계 법령의 규정에 의하여 보존할 필요가 있는 경우 일정 기간 동안 회원정보를 보관할 수 있습니다.
                
                제4조 (개인정보의 제3자 제공) 커뮤니티는 이용자의 개인정보를 원칙적으로 외부에 제공하지 않습니다. 다만, 아래의 경우에는 예외로 합니다.
                - 이용자들이 사전에 동의한 경우
                - 법령의 규정에 의거하거나, 수사 목적으로 법령에 정해진 절차와 방법에 따라 수사기관의 요구가 있는 경우
                
                제5조 (이용자의 권리 및 행사 방법) 이용자는 언제든지 등록되어 있는 자신의 개인정보를 조회하거나 수정할 수 있으며 회원 탈퇴를 요청할 수도 있습니다. 개인정보 조회/수정을 위해서는 '회원정보수정'을, 회원 탈퇴를 위해서는 '회원탈퇴' 기능을 이용하여 직접 처리할 수 있습니다.
                
                제6조 (개인정보의 기술적/관리적 보호 대책) 커뮤니티는 이용자들의 개인정보를 처리함에 있어 개인정보가 분실, 도난, 유출, 변조 또는 훼손되지 않도록 안전성 확보를 위하여 다음과 같은 기술적/관리적 대책을 강구하고 있습니다.
                1. 비밀번호의 암호화 저장
                2. 해킹 등에 대비한 기술적 대책 (예: 보안 프로그램 설치)
                3. 개인정보 처리 직원의 최소화 및 교육
                
                제7조 (개인정보 보호 책임자) 커뮤니티의 개인정보 처리에 관한 업무를 총괄해서 책임지고, 개인정보 처리와 관련한 이용자의 불만 처리 및 피해구제 등을 위하여 아래와 같이 개인정보 보호 책임자를 지정하고 있습니다.
                - 이름: 미카
                - 이메일: mika@example.com
                
                부칙 이 개인정보 처리방침은 2025년 10월 20일부터 적용됩니다.
                """;

        termList.add(new TermDTO(1L, "이용약관 동의", termsOfUseContent, true));
        termList.add(new TermDTO(2L, "개인정보처리방침 동의", privacyPolicyContent, true));
    }

    public List<TermDTO> findAllTerms() {
        return termList;
    }

    public TermDTO findTermById(Long id) {
        return termList.stream()
                .filter(term -> term.getId().equals(id))
                .findFirst()
                .orElseThrow(() -> new IllegalArgumentException("Invalid term Id:" + id));
    }
}
